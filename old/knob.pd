#N struct 1005-knob float xy0 float xy1 float dx float dy float sx1
float sx2 float sy float foreground float front float background float
thickness;
#N canvas 0 94 1280 930 12;
#X obj 930 595 pointer;
#X msg 930 571 traverse \$1 \, bang;
#X obj 930 546 symbol pd-\$0-graphics;
#X obj 407 231 r \$0-size;
#X obj 407 206 namecanvas \$0-knob;
#X obj 407 312 s \$0-knob;
#X obj 566 206 r \$0-size;
#X obj 566 286 s pd-\$0-graphics;
#X obj 48 50 vsl 30 25 0 1 0 0 \$0-slider-value \$0-slider empty 0
0 0 12 -262144 -262144 -191407 0 1;
#X obj 907 471 r \$0-slider-value;
#X obj 907 496 t b b b;
#X msg 965 496 clear;
#X obj 965 521 s pd-\$0-graphics;
#X text 181 11 Arguments specified on creation., f 119;
#X obj 879 311 expr -$f1 \; 1 + $f1 \;, f 11;
#X obj 847 206 r \$0-size;
#X text 404 178 All the resizing procedures: GoP \, subpatch \, slider
\, and margin calculations., f 113;
#X obj 568 571 r \$0-xy1;
#X obj 775 571 r \$0-foreground;
#N canvas 0 94 450 300 \$0-graphics 0;
#X scalar 1005-knob -0.1 1.1 0.36 0.92 0.299715 0.700281 1.06559 0
0 999 5 \;;
#X coords 0 0 1 1 30 30 2 2 2;
#X restore 48 48 pd \$0-graphics;
#X text 71 181 Playing around with the slider values \, i.e. calculating
the point at which the knob dial should be \, etc., f 45;
#X obj 73 226 r \$0-slider-value;
#X obj 73 368 s \$0-dx;
#X obj 603 521 r \$0-dx;
#X obj 638 571 r \$0-dy;
#X obj 552 546 r \$0-xy0;
#X obj 534 571 f;
#X obj 847 376 s \$0-slider-value;
#X obj 879 351 s \$0-xy0;
#X obj 953 351 s \$0-xy1;
#X obj 847 286 t b f;
#X text 525 404 Actual drawing code \, it's hard to explain \, but
there's a few documents on the net and in the vanilla library (in the
subsection datastructures)., f 81;
#X msg 407 257 donecanvasdialog 1 1 2 0 0 1 1 \$1 \$1 48 48 \, dirty
0, f 20;
#X obj 811 546 r \$0-front;
#X obj 725 281 pack s f f;
#X msg 725 306 \; \$1 size \$2 \$3;
#X obj 725 206 r \$0-size;
#X obj 762 231 - 5;
#X obj 725 231 bang;
#X obj 725 256 symbol \$0-slider;
#X obj 181 128 s \$0-size;
#X obj 958 33 loadbang;
#X obj 1023 33 s \$0-slider-value;
#X obj 591 108 s \$0-front;
#X obj 186 671 r \$0-slider-value;
#X obj 186 696 outlet;
#X obj 72 671 inlet;
#X obj 72 721 s \$0-slider-set;
#X obj 48 23 r \$0-slider-set;
#X obj 379 153 s \$0-foreground;
#X obj 677 123 s \$0-background;
#X obj 846 521 r \$0-background;
#X obj 534 701 filledpolygon background background 0 0 0 1 0 1 1 0
1;
#X text 917 696 <-Remove this if the knob <-is a black/white square.
, f 26;
#X obj 881 446 r \$0-thickness;
#X text 69 646 Inlet and outlet., f 34;
#X obj 274 153 s \$0-thickness;
#X obj 287 226 r \$0-angle;
#X obj 791 123 s \$0-angle;
#X obj 73 251 expr -(($f1 * (360 - 2 * $f2) + (180 + $f2)) / 360 *
6.28319), f 31;
#X obj 73 288 expr 0.5 - 0.45 * sin($f1) \; 0.5 - 0.45 * cos($f1),
f 31;
#X obj 287 368 s \$0-dy;
#X obj 73 328 expr round($f1 * 25) / 25, f 16;
#X obj 287 328 expr round($f1 * 100) / 100, f 16;
#X obj 72 696 clip 0 1;
#X obj 274 128 clip 1 9;
#X obj 591 83 f \$4;
#X obj 958 58 t b b b b;
#X obj 1151 58 pdcontrol;
#X msg 1151 33 args;
#X obj 1151 83 list length;
#X obj 591 58 r \$0-init-0;
#X obj 677 58 r \$0-init-0;
#X obj 791 58 r \$0-init-0;
#X obj 274 63 r \$0-init-0;
#X obj 181 63 r \$0-init-1;
#X obj 998 83 s \$0-init-0;
#X obj 978 108 s \$0-init-1;
#X obj 1151 108 s \$0-argsiz;
#X obj 262 38 r \$0-argsiz;
#X obj 348 38 r \$0-argsiz;
#X obj 479 58 r \$0-argsiz;
#X obj 765 33 r \$0-argsiz;
#X obj 872 33 r \$0-argsiz;
#X obj 579 8 r \$0-slider-value;
#X obj 181 88 expr if($f2 > 0 \, \$1 \, 30), f 12;
#X obj 274 88 expr if($f2 > 1 \, \$2 \, 5), f 11;
#X obj 677 83 expr if($f2 > 4 \, \$5 \, 999), f 13;
#X obj 579 33 f;
#X obj 379 83 expr if($f2 > 2 \, if(\$3 == -1 \, (rint(min((1 - $f3)
* 18 \, 9)) * 100) + (rint(min($f3 * 18 \, 9)) * 10) \, \$3) \, 0)
, f 29;
#X text 817 777 <-If you want to remove the "indicators" (i.e. the
empty <-spaces at the middle and the limits of the knob) \, then <-remove
those three.;
#X obj 330 428 r \$0-angle;
#X obj 672 546 r \$0-sx1;
#X obj 707 571 r \$0-sx2;
#X obj 742 546 r \$0-sy;
#X obj 74 453 r \$0-init-1;
#X obj 188 548 expr 0.5 - 0.6 * sin($f1) \; 0.5 - 0.6 * cos($f1),
f 15;
#X obj 74 478 expr -((0 * (360 - 2 * ($f2)) + (180 + ($f2))) / 360
* 6.28319) \; -((1 * (360 - 2 * $f2) + (180 + ($f2))) / 360 * 6.28319)
, f 37;
#X obj 74 548 expr 0.5 - 0.6 * sin($f1), f 15;
#X obj 74 588 s \$0-sx1;
#X obj 188 618 s \$0-sx2;
#X obj 290 618 s \$0-sy;
#X obj 534 596 pack f f f f f f f f f f f, f 50;
#X obj 534 621 append \$0-knob xy0 xy1 dx dy sx1 sx2 sy foreground
front background thickness, f 57;
#X obj 534 661 struct \$0-knob float xy0 float xy1 float dx float dy
float sx1 float sx2 float sy float foreground float front float background
float thickness, f 72;
#X obj 535 726 drawcurve foreground thickness 0.5 xy0 xy1 0.5 0.5 xy1
xy0 0.5 0.5 xy0, f 70;
#X obj 535 776 drawpolygon background 3 0.5 0.5 sx1 sy;
#X obj 535 801 drawpolygon background 3 0.5 0.5 sx2 sy;
#X text 71 395 Calculate the positions of the min/max indicators.,
f 47;
#X obj 330 453 - 0.5;
#X text 534 854 TODOs: the only thing that should be done is checking
out a different way of changing the knob value., f 97;
#X obj 1026 206 r \$0-thickness;
#X obj 847 231 expr (floor(($f1 / 2) / 2) - floor(($f1 / 2) / 4) -
floor($f2 / 2) + 1) / $f1, f 26;
#X text 1038 233 <-An approximation of the <-margin. Sequence A002265
<-and A004526 in the OEIS., f 27;
#X msg 566 231 donecanvasdialog 1 1 2 0 0 1 1 \$1 \$1 2 2 \, dirty
0, f 20;
#X obj 791 83 expr if($f2 > 5 \, \$6 \, 20), f 12;
#X obj 535 826 drawpolygon background 3 0.5 0.5 0.5 0, f 63;
#X obj 535 751 drawpolygon front thickness 0.5 0.5 dx dy;
#X connect 0 0 103 11;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 32 0;
#X connect 6 0 114 0;
#X connect 9 0 10 0;
#X connect 10 0 26 0;
#X connect 10 1 2 0;
#X connect 10 2 11 0;
#X connect 11 0 12 0;
#X connect 14 0 28 0;
#X connect 14 1 29 0;
#X connect 15 0 112 0;
#X connect 17 0 102 1;
#X connect 18 0 102 7;
#X connect 21 0 59 0;
#X connect 23 0 102 2;
#X connect 24 0 102 3;
#X connect 25 0 26 1;
#X connect 26 0 102 0;
#X connect 30 0 27 0;
#X connect 30 1 14 0;
#X connect 32 0 5 0;
#X connect 33 0 102 8;
#X connect 34 0 35 0;
#X connect 36 0 37 0;
#X connect 36 0 34 1;
#X connect 36 0 38 0;
#X connect 37 0 34 2;
#X connect 38 0 39 0;
#X connect 39 0 34 0;
#X connect 41 0 67 0;
#X connect 44 0 45 0;
#X connect 46 0 64 0;
#X connect 48 0 8 0;
#X connect 51 0 102 9;
#X connect 54 0 102 10;
#X connect 57 0 59 1;
#X connect 59 0 60 0;
#X connect 60 0 62 0;
#X connect 60 1 63 0;
#X connect 62 0 22 0;
#X connect 63 0 61 0;
#X connect 64 0 47 0;
#X connect 65 0 56 0;
#X connect 66 0 43 0;
#X connect 67 0 42 0;
#X connect 67 1 77 0;
#X connect 67 2 76 0;
#X connect 67 3 69 0;
#X connect 68 0 70 0;
#X connect 69 0 68 0;
#X connect 70 0 78 0;
#X connect 71 0 66 0;
#X connect 72 0 87 0;
#X connect 73 0 115 0;
#X connect 74 0 86 0;
#X connect 75 0 85 0;
#X connect 79 0 85 1;
#X connect 80 0 86 1;
#X connect 81 0 89 1;
#X connect 82 0 87 1;
#X connect 83 0 115 1;
#X connect 84 0 88 0;
#X connect 85 0 40 0;
#X connect 86 0 65 0;
#X connect 87 0 50 0;
#X connect 88 0 89 2;
#X connect 88 0 89 0;
#X connect 89 0 49 0;
#X connect 91 0 109 0;
#X connect 92 0 102 4;
#X connect 93 0 102 5;
#X connect 94 0 102 6;
#X connect 95 0 97 0;
#X connect 96 0 100 0;
#X connect 96 1 101 0;
#X connect 97 0 98 0;
#X connect 97 1 96 0;
#X connect 98 0 99 0;
#X connect 102 0 103 0;
#X connect 109 0 97 1;
#X connect 111 0 112 1;
#X connect 112 0 30 0;
#X connect 114 0 7 0;
#X connect 115 0 58 0;
#X coords 0 0 1 1 30 30 2 48 48;
